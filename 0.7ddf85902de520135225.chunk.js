webpackJsonp([0,5],{"/VAB":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=function(){function e(){}return e}()},"0Y7T":function(e,t,n){"use strict";var i=n("w665");n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o});var r=function(){function e(){this.cursorIcon="",this.textures=["assets/images/bg-textures/grass-powder-1.png","assets/images/bg-textures/grass-powder-2.png","assets/images/bg-textures/dead-grass-powder-1.png"],this.selectedIndex=0}return Object.defineProperty(e.prototype,"toolActive",{get:function(){return""!==this.cursorIcon},enumerable:!0,configurable:!0}),e.prototype.activateTool=function(){this.cursorIcon=this.curSelection},e.prototype.deactivateTool=function(){this.cursorIcon=""},e.prototype.select=function(e){this.selectedIndex=e},Object.defineProperty(e.prototype,"curSelection",{get:function(){return this.textures[this.selectedIndex]},enumerable:!0,configurable:!0}),e}(),o={provide:i.a,useClass:r}},"1+yy":function(e,t,n){"use strict";var i=n("2Je8"),r=n("Gam2"),o=n("JgRN"),l=n("0Y7T"),c=n("o8N+"),a=n("uLYp"),u=n("MYrE"),s=n("5ioE"),p=n("qRHj"),h=n("u3Wz"),g=n("hUS7"),v=n("FGnu"),f=n("pm/s"),d=n("vDYI"),m=n("7O0c"),S=n("Eo3V"),b=n("H/ul");n.d(t,"a",function(){return A});var A=(d.a,m.a,S.a,f.a,i.b,b.a,r.b,o.b,l.b,c.b,a.b,u.b,s.b,p.b,h.b,g.b,v.b,function(){function e(){}return e}())},"1xXy":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=function(){function e(){}return e}()},"3icQ":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=[""]},"5ioE":function(e,t,n){"use strict";var i=n("1xXy");n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o});var r=function(){function e(){this.offsetX=0,this.offsetY=0,this.height=window.innerHeight,this.width=window.innerWidth}return e}(),o={provide:i.a,useClass:r}},"7O0c":function(e,t,n){"use strict";var i=n("RNfl"),r=n("QaWl"),o=n("7lie"),l=n("1xXy"),c=n("A32U"),a=n("Bdae");n.d(t,"a",function(){return u});var u=function(){function e(e,t,n,i,r,o){this.activeToolService=e,this.clickStateService=t,this.clipartService=n,this.mapViewCtxService=i,this.rendererService=r,this.zoomService=o,this.iconImageTop=-1e3,this.iconImageLeft=-1e3,this.url="",this.displayCursorIfPossible=!0}return Object.defineProperty(e.prototype,"isCursorImageInitialized",{get:function(){return!!this._el},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"el",{get:function(){return this._el.nativeElement},enumerable:!0,configurable:!0}),e.prototype.followCursor=function(e){this.isCursorImageInitialized&&(this.iconImageTop=e.clientY,this.iconImageLeft=e.clientX)},Object.defineProperty(e.prototype,"displayCursorImage",{get:function(){return this.activeToolService.isToolActive&&this.displayCursorIfPossible},enumerable:!0,configurable:!0}),e.prototype.toggleCursorIcon=function(){this.displayCursorIfPossible=!this.displayCursorIfPossible},e.prototype.clearCursor=function(){this.activeToolService.deactivate(),this.url=""},e.prototype.setCursor=function(e){this.activeToolService.activate(),this.url=e},e.prototype.onCursorMove=function(e){"up"===this.clickStateService.mouseClickState&&this.activeToolService.isToolActive&&this.isCursorImageInitialized&&this.followCursor(e)},e.prototype.centeredCoord=function(e,t){return e-t/2},e.prototype.onMouseDown=function(e){if(this.activeToolService.isToolActive){var t=e.clientX-this.el.width/2+-1*this.mapViewCtxService.offsetX,n=e.clientY-this.el.height/2+-1*this.mapViewCtxService.offsetY;t%2!=0&&(t+=1),n%2!=0&&(n+=1),this.clipartService.placeClipart({src:this.el.src,realHeight:this.el.height/this.zoomService.zoomLevel,realWidth:this.el.width/this.zoomService.zoomLevel,realX:t,realY:n,realZoom:this.zoomService.zoomLevel}),this.clipartService.drawAll(this.canvasComponent.ctx,this.mapViewCtxService.offsetX,this.mapViewCtxService.offsetY,this.zoomService.zoomLevel),this.rendererService.render(this.canvasComponent.ctx,this.canvasComponent.canvas)}},e.ctorParameters=function(){return[{type:i.a},{type:r.a},{type:o.a},{type:l.a},{type:c.a},{type:a.a}]},e}()},"7lie":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=function(){function e(){}return e}()},A32U:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=function(){function e(){}return e}()},Bdae:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=function(){function e(){}return e}()},CBjP:function(e,t,n){"use strict";function i(e){return c.E(0,[(e()(),c.F(0,[[1,0],["cursorImg",1]],null,0,"img",[["class","c-canvas-tool-cursor"]],[[4,"top","px"],[4,"left","px"],[8,"height",0],[8,"width",0],[8,"src",4]],[["window","mousedown"],["window","mousemove"]],function(e,t,n){var i=!0,r=e.component;if("window:mousedown"===t){i=!1!==r.onMouseDown(n)&&i}if("window:mousemove"===t){i=!1!==r.onCursorMove(n)&&i}return i},null,null))],null,function(e,t){var n=t.component;e(t,0,0,n.iconImageTop-c.I(t,0).height/2,n.iconImageLeft-c.I(t,0).width/2,"100px","100px",n.url)})}function r(e){return c.E(0,[c.K(335544320,1,{_el:0}),(e()(),c.H(null,["\n"])),(e()(),c.L(8388608,null,null,1,null,i)),c.G(8192,null,0,a.i,[c.M,c.N],{ngIf:[0,"ngIf"]},null),(e()(),c.H(null,["\n"]))],function(e,t){e(t,3,0,t.component.displayCursorImage)},null)}function o(e){return c.E(0,[(e()(),c.F(0,null,null,1,"drafter-cursor-img",[],null,null,null,r,m)),c.G(24576,null,0,u.a,[s.a,p.a,h.a,g.a,v.a,f.a],null,null)],null,null)}var l=n("Uq51"),c=n("3j3K"),a=n("2Je8"),u=n("7O0c"),s=n("RNfl"),p=n("QaWl"),h=n("7lie"),g=n("1xXy"),v=n("A32U"),f=n("Bdae");n.d(t,"b",function(){return m}),t.a=r;var d=[l.a],m=c.D({encapsulation:2,styles:d,data:{}});c.J("drafter-cursor-img",u.a,o,{canvasComponent:"canvas"},{},[])},Eo3V:function(e,t,n){"use strict";var i=n("kZql"),r=n("RNfl"),o=n("w665"),l=n("7lie"),c=n("/VAB"),a=n("1xXy"),u=n("A32U"),s=n("Bdae"),p=n("p4vd");n.d(t,"a",function(){return h});var h=function(){function e(e,t,n,i,r,o,l,c){this.activeToolService=e,this.clipartService=t,this.bgTextureService=n,this.gridService=i,this.mapViewCtxService=r,this.rendererService=o,this.uploadService=l,this.zoomService=c,this.isSavedMapsMenuVisible=!1}return e.prototype.onZoom=function(e){var t=this.zoomService.zoomLevel;if("in"===e)this.zoomService.zoomLevel+=2;else{if("out"!==e||2===this.zoomService.zoomLevel)return;this.zoomService.zoomLevel+=-2}this.clipartService.onZoom(this.zoomService.zoomLevel,t),this.mapViewCtxService.offsetX=Math.floor(Math.floor(this.mapViewCtxService.width/this.gridService.cellSize)/2),this.mapViewCtxService.offsetY=Math.floor(Math.floor(this.mapViewCtxService.height/this.gridService.cellSize)/2),this.rendererService.render(this.canvasComponent.ctx,this.canvasComponent.canvas)},e.prototype.selectClipart=function(){if(this.clipartService.toolActive)this.clipartService.deactivateTool(),this.cursorImg.clearCursor();else{this.deactivateOpenMenu(),this.bgTextureService.deactivateTool(),this.clipartService.activateTool();var e=this.clipartService.curSelection;this.cursorImg.setCursor(e)}},e.prototype.selectBGTexture=function(){if(this.bgTextureService.toolActive)this.bgTextureService.deactivateTool(),this.cursorImg.clearCursor();else{this.deactivateOpenMenu(),this.clipartService.deactivateTool(),this.bgTextureService.activateTool();var e=this.bgTextureService.curSelection;this.cursorImg.setCursor(e)}},Object.defineProperty(e.prototype,"toolPalletes",{get:function(){return this.clipartService.toolActive?this.clipartService.clipart:this.bgTextureService.toolActive?this.bgTextureService.textures:void 0},enumerable:!0,configurable:!0}),e.prototype.palleteIsSelected=function(e){return this.clipartService.toolActive?this.clipartService.selectedIndex===e:this.bgTextureService.toolActive?this.bgTextureService.selectedIndex===e:void 0},e.prototype.selectPallete=function(e){this.clipartService.toolActive?(this.clipartService.select(e),this.cursorImg.url=this.clipartService.curSelection):this.bgTextureService.toolActive&&(this.bgTextureService.select(e),this.cursorImg.url=this.bgTextureService.curSelection)},Object.defineProperty(e.prototype,"displayMenu",{get:function(){return this.activeToolService.isToolActive},enumerable:!0,configurable:!0}),e.prototype.saveMap=function(){this.clipartService.save()},e.prototype.toggleSavedMaps=function(){this.clipartService.deactivateTool(),this.bgTextureService.deactivateTool(),this.isSavedMapsMenuVisible=!this.isSavedMapsMenuVisible},e.prototype.deactivateOpenMenu=function(){this.isSavedMapsMenuVisible=!1},e.prototype.openMap=function(e){this.clipartService.open(e),this.rendererService.render(this.canvasComponent.ctx,this.canvasComponent.canvas)},e.prototype.savedMaps=function(){if(this.clipartService.savedMaps()){return JSON.parse(this.clipartService.savedMaps())}return[]},e.prototype.toggleCursorIcon=function(){this.cursorImg.toggleCursorIcon()},Object.defineProperty(e.prototype,"isBGTextureMenuOpen",{get:function(){return this.bgTextureService.toolActive},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isClipartMenuOpen",{get:function(){return this.clipartService.toolActive},enumerable:!0,configurable:!0}),e.prototype.uploadFile=function(e){var t=e.target,n=i.a.BASE_API+"/art",r=t.files[0],o={label:r.name};this.clipartService.toolActive?o.type="clipart":this.bgTextureService.toolActive&&(o.type="texture"),this.uploadService.makeFileRequest(n,r,o)},e.ctorParameters=function(){return[{type:r.a},{type:l.a},{type:o.a},{type:c.a},{type:a.a},{type:u.a},{type:p.a},{type:s.a}]},e}()},FGnu:function(e,t,n){"use strict";var i=n("p4vd");n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o});var r=function(){function e(){}return e.prototype.makeFileRequest=function(e,t,n){return new Promise(function(i,r){var o=new FormData,l=new XMLHttpRequest;o.append("file",t,t.name),o.append("data",JSON.stringify(n)),l.onreadystatechange=function(){4===l.readyState&&(200===l.status?i(l.response):r(l.response))},l.open("POST",e,!0),l.send(o)})},e}(),o={provide:i.a,useClass:r}},Gam2:function(e,t,n){"use strict";var i=n("RNfl");n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o});var r=function(){function e(){this.isToolActive=!1}return e.prototype.toggleToolState=function(){this.isToolActive=!this.isToolActive},e.prototype.deactivate=function(){this.isToolActive=!1},e.prototype.activate=function(){this.isToolActive=!0},e}(),o={provide:i.a,useClass:r}},"H/ul":function(e,t,n){"use strict";var i=n("5oXY"),r=n("pm/s");n.d(t,"a",function(){return l});var o=[{path:"",component:r.a}],l=i.p.forChild(o)},JgRN:function(e,t,n){"use strict";var i=n("iJdg");n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o});var r=function(){function e(){}return e.prototype.draw=function(e,t){t.clearRect(0,0,e.width,e.height),t.beginPath()},e}(),o={provide:i.a,useClass:r}},MBlc:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=[".c-toolbar-buttons{position:absolute;font-family:Press Start\\ 2P,cursive;color:#a7bc9d;z-index:10;box-shadow:0 2px 6px 0 rgba(0,0,0,.25);bottom:0;right:0;padding:15px 20px;background-color:hsla(0,0%,100%,.75);font-size:25px;border-radius:3px;margin:5px;height:70px}.c-toolbar-button{background-color:#a7bc9d;color:#fff;font-weight:700;font-size:25px;line-height:50px;width:50px;height:50px;box-sizing:content-box;border-radius:100%;border:2px solid #f8f8ff;cursor:pointer}.c-toolbar-tool-icon{width:50px;height:50px;cursor:pointer;margin:0 10px 0 0}.c-toolbar-menu-link{cursor:pointer;text-decoration:None}.c-toolbar-menu-link.is-selected img{box-shadow:0 0 4px 4px #a7bc9d}.c-toolbar-tool-picker{position:absolute;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-pack:distribute;justify-content:space-around;-ms-flex-line-pack:start;align-content:flex-start;-ms-flex-wrap:wrap;flex-wrap:wrap;width:350px;padding:5px;bottom:70px;right:0;margin:5px;background-color:hsla(0,0%,100%,.75);border-radius:3px;box-shadow:0 2px 6px 0 rgba(0,0,0,.25);max-height:200px;overflow-y:scroll;font-size:10px}.c-toolbar-tool-picker__icon{cursor:pointer;width:50px;height:50px;padding:5px}.c-toolbar-tool-picker__icon.is-selected{box-shadow:0 0 5px 1px rgba(78,132,52,.5);border-radius:5px}"]},MLpL:function(e,t,n){"use strict";function i(e){return p.E(0,[(e()(),p.F(0,null,null,3,"div",[],null,null,null,null,null)),(e()(),p.H(null,["\n      "])),(e()(),p.F(0,null,null,0,"input",[["type","file"]],null,[[null,"change"]],function(e,t,n){var i=!0,r=e.component;if("change"===t){i=!1!==r.uploadFile(n)&&i}return i},null,null)),(e()(),p.H(null,["\n    "]))],null,null)}function r(e){return p.E(0,[(e()(),p.F(0,null,null,0,"img",[["class","c-toolbar-tool-picker__icon"]],[[2,"is-selected",null],[8,"src",4]],[[null,"click"]],function(e,t,n){var i=!0,r=e.component;if("click"===t){i=!1!==r.selectPallete(e.context.index)&&i}return i},null,null))],null,function(e,t){e(t,0,0,t.component.palleteIsSelected(t.context.index),t.context.$implicit)})}function o(e){return p.E(0,[(e()(),p.F(0,null,null,12,"div",[["class","c-toolbar-tool-picker"]],null,null,null,null,null)),(e()(),p.H(null,["\n    "])),(e()(),p.L(8388608,null,null,1,null,i)),p.G(8192,null,0,h.i,[p.M,p.N],{ngIf:[0,"ngIf"]},null),(e()(),p.H(null,["\n    "])),(e()(),p.F(0,null,null,0,"div",[["class","c-app-rule"]],null,null,null,null,null)),(e()(),p.H(null,["\n    "])),(e()(),p.F(0,null,null,4,"div",[],null,null,null,null,null)),(e()(),p.H(null,["\n      "])),(e()(),p.L(8388608,null,null,1,null,r)),p.G(401408,null,0,h.j,[p.M,p.N,p.w],{ngForOf:[0,"ngForOf"]},null),(e()(),p.H(null,["\n    "])),(e()(),p.H(null,["\n  "]))],function(e,t){var n=t.component;e(t,3,0,!1),e(t,10,0,n.toolPalletes)},null)}function l(e){return p.E(0,[(e()(),p.F(0,null,null,1,"a",[["class","c-toolbar-menu-link"]],null,[[null,"mousedown"]],function(e,t,n){var i=!0,r=e.component;if("mousedown"===t){i=!1!==r.openMap(e.context.index)&&i}return i},null,null)),(e()(),p.H(null,["File: ",""]))],null,function(e,t){e(t,1,0,t.context.index+1)})}function c(e){return p.E(0,[(e()(),p.F(0,null,null,4,"div",[["class","c-toolbar-tool-picker"]],null,null,null,null,null)),(e()(),p.H(null,["\n    "])),(e()(),p.L(8388608,null,null,1,null,l)),p.G(401408,null,0,h.j,[p.M,p.N,p.w],{ngForOf:[0,"ngForOf"]},null),(e()(),p.H(null,["\n  "]))],function(e,t){e(t,3,0,t.component.savedMaps())},null)}function a(e){return p.E(0,[(e()(),p.F(0,null,null,44,"div",[],null,[[null,"mouseenter"],[null,"mouseleave"]],function(e,t,n){var i=!0,r=e.component;if("mouseenter"===t){i=!1!==r.toggleCursorIcon()&&i}if("mouseleave"===t){i=!1!==r.toggleCursorIcon()&&i}return i},null,null)),(e()(),p.H(null,["\n  "])),(e()(),p.F(0,null,null,4,"a",[["class","c-toolbar-menu-link"]],[[2,"is-selected",null]],[[null,"click"]],function(e,t,n){var i=!0,r=e.component;if("click"===t){i=!1!==r.toggleSavedMaps()&&i}return i},null,null)),(e()(),p.H(null,["\n    "])),(e()(),p.H(null,["\n    "])),(e()(),p.F(0,null,null,0,"img",[["class","icon icons8-Open-Folder-Filled"],["height","40"],["src","data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjAiIHg9IjBweCIgeT0iMHB4IiB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIHZpZXdCb3g9IjAgMCA1MCA1MCIgZmlsbD0iI2E3YmM5ZCIgPiAgICA8cGF0aCBkPSJNIDMgNCBDIDEuMzQ2IDQgMCA1LjM0NiAwIDcgTCAwIDMzLjA5Mzc1IEMgMS40NjQgMjUuMjk4NzUgMy4xMDQ1IDE2LjU1MiAzLjE4NzUgMTYuMTI1IEMgMy42OTU1IDEzLjUzNSA1LjY0OTUgMTIgOC40Mzc1IDEyIEwgNDcgMTIgTCA0NyAxMSBDIDQ3IDkuMzQ2IDQ1LjY1NCA4IDQ0IDggTCAxOC4wMzEyNSA4IEMgMTcuNzUyMjUgNy44OTkgMTcuMTg1IDYuOTk0IDE2Ljg3NSA2LjUgQyAxNi4xMDYgNS4yNzUgMTUuMzE3IDQgMTQgNCBMIDMgNCB6IE0gOC40Mzc1IDE0IEMgNy4xNTc1IDE0IDUuNTY0MjUgMTQuNDQ4MjUgNS4xNTYyNSAxNi41MzEyNSBDIDUuMDI5MjUgMTcuMTc4MjUgMS4xMzIgMzcuOTEwNSAwIDQzLjkzNzUgTCAwIDQ0IEMgMCA0NS42NTQgMS4zNDYgNDcgMyA0NyBMIDQyIDQ3IEMgNDMuNjIgNDcgNDQuOTQ3IDQ1LjcwMTc1IDQ1IDQ0LjA5Mzc1IEwgNDkuOTY4NzUgMTcuMTg3NSBMIDUwIDE3IEMgNTAgMTUuMzQ2IDQ4LjY1NCAxNCA0NyAxNCBMIDguNDM3NSAxNCB6Ij48L3BhdGg+PC9zdmc+"],["width","40"]],null,null,null,null,null)),(e()(),p.H(null,["\n  "])),(e()(),p.H(null,["\n  "])),(e()(),p.F(0,null,null,3,"a",[["class","c-toolbar-menu-link"]],null,[[null,"click"]],function(e,t,n){var i=!0,r=e.component;if("click"===t){i=!1!==r.saveMap()&&i}return i},null,null)),(e()(),p.H(null,["\n    "])),(e()(),p.F(0,null,null,0,"img",[["class","icon icons8-Save-Filled"],["height","40"],["src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAACHUlEQVRoQ+2aS1LCQBCGuxMWuhJPIJ5APYFSBXtdwgoq7NUTGE8AByAFK1h6gFCFnkA8gXoCcKULoK1ATQyYZGYgD0INW+bR3//3THcgCHvywT3hgBWQnm01EeEaAAppAxLR6DCnF2+K9YlILC5Ib9BuIeCtyKSkxsjAeECsMQLkg4IkghfMabVKsf4RF0h/2CnQdN5FhEu2hyiMC9IfWBQaoK6dxgnB9nZgYDZ/98YiAiMMUikZkV0MPbv9iojnXtWr5caFC+MjKg8mFRA/971CBWVHGEymQBzHgmAyBxIEk0kQP5jMgjAYdklkGsSBYZeEAtmmum96/frtqRzZxglP5R4BwJlnrbdKyXArPbdd8kyUduRA145FW+ptYP16rbD1pEEA6Bl0vR5n47iEmHUA8EpUjA1ARJdOdpwCSVZv/m7KEb5GyY5QjiSrN383eUeIvgjQPMxp3bgL49Owk/+ezmsIZALiUaQFkQjuq2WjxdcouhE927pDhGakIEm1KN6gHWd+ZvNxpCBR/hwk4xmvgZQ+IwpERn6fscqRIAFVaqnUWiqgzog6I1uehaDpKrX2LrVY3WDWpl1H1uNhgnN7rb0BWU+xtB3hpXwqfyvIXHDyt5bdnoQ9Vu6iIwT0WS01Fq+b/DliWyYgPMiolfpYgsdK2TBXQBZ9jW2ZhFRDwJPUgwwJwHECCbsM4h/ILgfPiy2y1zJ4G8X9/S+AmeVC52gaugAAAABJRU5ErkJggg=="],["width","40"]],null,null,null,null,null)),(e()(),p.H(null,["\n  "])),(e()(),p.H(null,["\n  "])),(e()(),p.F(0,null,null,4,"a",[["class","c-toolbar-menu-link"]],[[2,"is-selected",null]],[[null,"click"]],function(e,t,n){var i=!0,r=e.component;if("click"===t){i=!1!==r.selectBGTexture()&&i}return i},null,null)),(e()(),p.H(null,["\n    "])),(e()(),p.H(null,["\n    "])),(e()(),p.F(0,null,null,0,"img",[["class","icon icons8-Cloth"],["height","40"],["src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAsElEQVRoge2UQQrAIAwE/f8fPPsJ/2ZPPbSY4KGUWTYLhRInhwHX1iqVfzJmX2P2pTTzE1HkHuD9//4onJ+IMocqcb1aUfDXKFumFXt37iGSyVG542X6zE9EkUMWO+L8RJQ5VInr1YqCv0bZMq3Yu3MPkUyOyh0v02d+IoocstgR5yeizKFKXK9WFPw1ypZpxd6de4hkclTueJk+8xNR5JDFjjg/EWUOVeJ6tSqV73IBIrNxG2SqLLgAAAAASUVORK5CYII="],["width","40"]],null,null,null,null,null)),(e()(),p.H(null,["\n  "])),(e()(),p.H(null,["\n  "])),(e()(),p.F(0,null,null,4,"a",[["class","c-toolbar-menu-link"]],[[2,"is-selected",null]],[[null,"click"]],function(e,t,n){var i=!0,r=e.component;if("click"===t){i=!1!==r.selectClipart()&&i}return i},null,null)),(e()(),p.H(null,["\n    "])),(e()(),p.H(null,["\n    "])),(e()(),p.F(0,null,null,0,"img",[["class","icon icons8-Small-Icons-Filled"],["height","40"],["src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAC50lEQVRoge2ZzXHrIBDHKcElpASV4BJSgjuIO7A7eL57d/BFkJt9FmjkDqwOnA7sDpKDQeIJ0AeRhec9McOMh7Cwv2VX4T8QMrcXbVzid0h/Ffv/FETglhBCuMDtAEdKJvDcG8SxRziIgDuXWLYZtYEwCV9Mwpf6/Z5mNOEC7ua4z35ocP0gAu5pRpNjQRcKqDbMcUMIITzHTceJXK0N6nnX1hNx7BECUh4LutBjOpIhOU4IIceCLniOG57jRq/7/BoRcKo2E/tlmtFERWbVzPk2R5jAMxf7JSGEMAk7O/f3S7Nm+oHA4VjQBS/om29/G0g5zgRcajDcmg6acDYIXKp5ZsEaIFxC0QvECG4d8P3SzBInBBP4pxGJwgusFvQ5QohKLYFbLnA7NLWYhF0TQrc0o0lbjVDP0dLKqRw3XEKhN9Dp53Ck9AWg66vVmTLal86vlgeGSbz9lT4FfWuxv3KJVybxlmY0YRLezfFexa6+XpafjzqhoSBW105220PBBFx8fw/dfzQQDTOWI1FBxnRkNJC5vVqLnRpzjXSAlI/rBRy4gDvPcaX+ITbvXcMceaKesUEE3H1XAzWv9dKo12jOa27aZh+iZ6yFmcCzHjOvIvp3MzquQMTQM/aJSPyunJawU9eL0gBZt4BE0zMukMoZXtA3LuDEJRw+JXzouSZMZR9Zz9ggahGVGiee40p3M9q+hWLpGQukOZ5mNGEC1+aYqVt8448+nZ6xQLhE2ryiG46ufcXGI+sZF0j9GTROwhQzfYq1CfNsPdMOIvH2KeHjIWbqvAwAca49pp5pBenTf2M/pp6JCjKm/dxetsVOjblGBoBM8r7R3HOoHnKCxHjfqAMRpod8m07+vlEFMVAPeaOnF5rqfcMcC9FDFkis9w2zPkL0kAMkzvtGbfM7PRT9fcPn2BA95HJk8vcNwzZID/lArnzi9w1Xag7RQz4Qs1Aned9wggzQQz1Awh2Z0v7fA5nbi7Qf2sNpv9Jxz04AAAAASUVORK5CYII="],["width","40"]],null,null,null,null,null)),(e()(),p.H(null,["\n  "])),(e()(),p.H(null,["\n  "])),(e()(),p.F(0,null,null,4,"a",[["class","c-toolbar-menu-link"]],null,[[null,"click"]],function(e,t,n){var i=!0,r=e.component;if("click"===t){i=!1!==r.onZoom("out")&&i}return i},null,null)),(e()(),p.H(null,["\n    "])),(e()(),p.H(null,["\n    "])),(e()(),p.F(0,null,null,0,"img",[["class","icon icons8-Zoom-Out"],["height","40"],["src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAC40lEQVR4nO1azZXiMAxOCZRACXQwlDAdQAdLB9AB3JHGc0HeWzgjZTIdQAfQAXQwe0jggeMAgWBnNv7e8wle5E+WZP04igICAgICArxhsVI9neCYBGJiWGvBn/NFDGsSiP8K/FmsVM/3fmuBTlWXGKdacGsSvmNtiXGqU9X1zaMy4lR1cuJVSVsXMU7jVHV887oLJPBOgvu6yJ+UILgngXff/K7i5qkzLHWCQ83z/rmfL1aqp3nez36D5S1r8MnRijhVHRKI7ScHO53gsIoJx6nq6ASHJLArUYRqlEtYyTMcNOPkmY3GqepoxolmONiUUCeHh0ECMxv5Oq+yzEWKSiCBWV0yHgIJvFtOZvMK84xT1dGCG4sS/ATGzO+NaM9weKVvZi5xaQkkuPcSDwqmX7PZl8HmDs5dQaeqW/R7nDiTzzgpyHeZMZqnTwI7l2aYX7s7XwcQaTO3T3DoTPhxDwkOzdrBieDFSvVM8/MRhPJb4WIfTqrIgv8xLF8utHQvl2kzMY6cC/Vh/qe9mG7g4jAKzQye918utASa5/1LC4D164VW9LuqZa+5rn3bFo/qZXsHoar/r1MBj+znabReAWYC0joXIMbvpgZBLbhxILT11yCOWp0ItT4VjqJiIGxCMUQCO3fCi/X41n05bHajHJbDttZUqxoiUWRriuDeVUvMPH0v3WEfDUofjdirsCQiP8SwflVb3DpW9z0vtM3y6nYHm9l7M/1zWPpyF0rQCY6fHo0lOLZPm+GzRirVcY28eUWSwKDqcJQEBuVjdvj0OhwtJX9rtC0Qk8CAvj7ezPE4fX28ZaTtU+bmm32eDWqe96+MtR9fDAf/Ae8G+SNyE56VjLUrLxKYeX8PcC/5cxzn+49YBAnsNOOkEY+kHiFf+Eb2YmykGZbE+G1Ryib/bdSoZ3J1kP+1COQD+UA+kA/kA/n/HNYHT20hf0TBAtpE/oiTEtpI/ohGFB4BAQEBAQG14x/3Py1s8xLc4wAAAABJRU5ErkJggg=="],["width","40"]],null,null,null,null,null)),(e()(),p.H(null,["\n  "])),(e()(),p.H(null,["\n  "])),(e()(),p.F(0,null,null,4,"a",[["class","c-toolbar-menu-link"]],null,[[null,"click"]],function(e,t,n){var i=!0,r=e.component;if("click"===t){i=!1!==r.onZoom("in")&&i}return i},null,null)),(e()(),p.H(null,["\n    "])),(e()(),p.H(null,["\n    "])),(e()(),p.F(0,null,null,0,"img",[["class","icon icons8-Zoom-In"],["height","40"],["src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAADAUlEQVR4nO1ay3XqMBBVCZSQEugglEAH0MGjA+gg7JmJsmH0dmaNxnE6gA6gA+ggb2HIAVl8JITlPOueo5VhpDu6o8+MhEhISEhISIiG+VJ2VY5jYshIw0oxfp820rAihuwvw5/5UnZjjzcIVCFfSOObYtyYhO9oG9L4pgr5EpuHM7JCdg7EXUlbG2l8ywrZic3rLhBDnxh3ocj/OIFxRwz92Pyu4uasa1ioHIdKz3qncT5fyq7Ss175DRa31BCToxVZITvEkNlnDrYqx6GLhLNCdlSOQ2LYXnCEbFRIWMlr2CuNk0cGmhWyozROlIa9zQkhOXiDGKY28iG3sjJEqk4ghmmoPrxADH3LzKyfIc+skB3FuLY4Ic7CWMa9sdpr2D8zNsuQOFcCMe6irAcV6QeW/SXYwqH2UFCFfKnGPU5q61/jpNJ/nSdGc/aJYesqQ5OAy38P2+421gQIZZ7tcxx62PB2gBBCqByHho2Nqw0vzJeyaw7eZxF61AGHXeHMRi23yEr8aVh42XnQAeVYzo/NpHHkY+ehTn3kL0QgB5hh4DkZTqgkM/Ss52MnjAJmvXMFwMrHjlunjnF34TJzd7tm27YehWV7ByHX34d0gM94HkbrHWAeQFoXAqTxq6mLoGJc+9hx7LT12yCOQnQaRgERDkKtPwoLUV0Im3AZIoatqw1vWO7jm/qvw2Y2qsbrsC011aqEiBC2pAju6kqJmbMfJTscI0EZIxF7FZaDyDdpWD0rLW4tq8euF9pqeaHDwSb7aNI/hSUvd+YEleP44dJYjmN7tRk+AlJxxzXy5hZJDAPX4igxDC6X2eEjanH0IvlbpW2GjBgG9Pn+apbH6fP9tSRtrzI3X/aH06DSs96VsrZ/07CPv+DdIH/EQcLTC2Vt50YM0+jvAe4lf4pjfd9HEcSwVRonjXgk5UO+YqN8MTZSGhak8cvilPXh26hRz+RCkP+1SOQT+UQ+kU/kE/n/HNYHT20hf0RFAW0if8SPE9pI/ohGXDwSEhISEhKC4x/fhb08Xp6vDgAAAABJRU5ErkJggg=="],["width","40"]],null,null,null,null,null)),(e()(),p.H(null,["\n  "])),(e()(),p.H(null,["\n\n  "])),(e()(),p.H(null,["\n  "])),(e()(),p.L(8388608,null,null,1,null,o)),p.G(8192,null,0,h.i,[p.M,p.N],{ngIf:[0,"ngIf"]},null),(e()(),p.H(null,["\n\n  "])),(e()(),p.H(null,["\n  "])),(e()(),p.L(8388608,null,null,1,null,c)),p.G(8192,null,0,h.i,[p.M,p.N],{ngIf:[0,"ngIf"]},null),(e()(),p.H(null,["\n"])),(e()(),p.H(null,["\n"]))],function(e,t){var n=t.component;e(t,39,0,n.displayMenu),e(t,43,0,n.isSavedMapsMenuVisible)},function(e,t){var n=t.component;e(t,2,0,n.isSavedMapsMenuVisible),e(t,13,0,n.isBGTextureMenuOpen),e(t,19,0,n.isClipartMenuOpen)})}function u(e){return p.E(0,[(e()(),p.F(0,null,null,1,"drafter-toolbar",[["class","c-toolbar-buttons"]],null,null,null,a,w)),p.G(24576,null,0,g.a,[v.a,f.a,d.a,m.a,S.a,b.a,A.a,x.a],null,null)],null,null)}var s=n("MBlc"),p=n("3j3K"),h=n("2Je8"),g=n("Eo3V"),v=n("RNfl"),f=n("7lie"),d=n("w665"),m=n("/VAB"),S=n("1xXy"),b=n("A32U"),A=n("p4vd"),x=n("Bdae");n.d(t,"b",function(){return w}),t.a=a;var y=[s.a],w=p.D({encapsulation:2,styles:y,data:{}});p.J("drafter-toolbar",g.a,u,{canvasComponent:"canvas",cursorImg:"cursorImg"},{},[])},MYrE:function(e,t,n){"use strict";var i=n("/VAB"),r=n("1xXy"),o=n("Bdae");n.d(t,"a",function(){return l}),n.d(t,"b",function(){return c});var l=function(){function e(e,t){this.mapViewCtxService=e,this.zoomService=t,this.baseCellSize=10}return Object.defineProperty(e.prototype,"cellSize",{get:function(){return this.zoomService.zoomLevel*this.baseCellSize},enumerable:!0,configurable:!0}),e.prototype.draw=function(e){for(var t=this.mapViewCtxService.offsetX%this.cellSize,n=this.mapViewCtxService.offsetY%this.cellSize,i=-1*this.zoomService.zoomLevel;i<this.mapViewCtxService.width+this.cellSize;i+=this.cellSize)e.moveTo(t+.5+i,0),e.lineWidth=1,e.lineTo(t+.5+i,this.mapViewCtxService.height);for(var r=-1*this.zoomService.zoomLevel;r<this.mapViewCtxService.height+this.cellSize;r+=this.cellSize)e.moveTo(0,n+.5+r),e.lineWidth=1,e.lineTo(this.mapViewCtxService.width,n+.5+r);e.strokeStyle="#b7b7b7",e.stroke()},e.ctorParameters=function(){return[{type:r.a},{type:o.a}]},e}(),c={provide:i.a,useClass:l}},QaWl:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=function(){function e(){}return e}()},RNfl:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=function(){function e(){}return e}()},SDZ9:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("3j3K"),r=n("1+yy"),o=n("2Je8"),l=n("5oXY"),c=n("Gam2"),a=n("JgRN"),u=n("0Y7T"),s=n("o8N+"),p=n("uLYp"),h=n("5ioE"),g=n("hUS7"),v=n("MYrE"),f=n("u3Wz"),d=n("qRHj"),m=n("FGnu"),S=n("jwoH"),b=n("pm/s"),A=n("RNfl"),x=n("iJdg"),y=n("w665"),w=n("QaWl"),I=n("7lie"),M=n("1xXy"),C=n("Bdae"),_=n("/VAB"),z=n("htvO"),T=n("A32U"),E=n("p4vd");n.d(t,"DrafterModuleNgFactory",function(){return B});var k=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),H=function(e){function t(t){return e.call(this,t,[S.a],[])||this}return k(t,e),Object.defineProperty(t.prototype,"_NgLocalization_3",{get:function(){return null==this.__NgLocalization_3&&(this.__NgLocalization_3=new o.a(this.parent.get(i.c))),this.__NgLocalization_3},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_ActiveToolService_5",{get:function(){return null==this.__ActiveToolService_5&&(this.__ActiveToolService_5=new c.a),this.__ActiveToolService_5},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_BackgroundService_6",{get:function(){return null==this.__BackgroundService_6&&(this.__BackgroundService_6=new a.a),this.__BackgroundService_6},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_BGTextureService_7",{get:function(){return null==this.__BGTextureService_7&&(this.__BGTextureService_7=new u.a),this.__BGTextureService_7},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_ClickStateService_8",{get:function(){return null==this.__ClickStateService_8&&(this.__ClickStateService_8=new s.a),this.__ClickStateService_8},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_ClipartService_9",{get:function(){return null==this.__ClipartService_9&&(this.__ClipartService_9=new p.a),this.__ClipartService_9},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_MapViewCtxService_10",{get:function(){return null==this.__MapViewCtxService_10&&(this.__MapViewCtxService_10=new h.a),this.__MapViewCtxService_10},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_ZoomService_11",{get:function(){return null==this.__ZoomService_11&&(this.__ZoomService_11=new g.a),this.__ZoomService_11},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_GridService_12",{get:function(){return null==this.__GridService_12&&(this.__GridService_12=new v.a(this._MapViewCtxService_10,this._ZoomService_11)),this.__GridService_12},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_ResetService_13",{get:function(){return null==this.__ResetService_13&&(this.__ResetService_13=new f.a),this.__ResetService_13},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_RendererService_14",{get:function(){return null==this.__RendererService_14&&(this.__RendererService_14=new d.a(this._ResetService_13,this._BackgroundService_6,this._ClipartService_9,this._GridService_12,this._MapViewCtxService_10,this._ZoomService_11)),this.__RendererService_14},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_UploadService_15",{get:function(){return null==this.__UploadService_15&&(this.__UploadService_15=new m.a),this.__UploadService_15},enumerable:!0,configurable:!0}),t.prototype.createInternal=function(){return this._CommonModule_0=new o.b,this._RouterModule_1=new l.p(this.parent.get(l.q,null),this.parent.get(l.j,null)),this._DrafterModule_2=new r.a,this._ROUTES_4=[[{path:"",component:b.a}]],this._DrafterModule_2},t.prototype.getInternal=function(e,t){return e===o.b?this._CommonModule_0:e===l.p?this._RouterModule_1:e===r.a?this._DrafterModule_2:e===o.h?this._NgLocalization_3:e===l.s?this._ROUTES_4:e===A.a?this._ActiveToolService_5:e===x.a?this._BackgroundService_6:e===y.a?this._BGTextureService_7:e===w.a?this._ClickStateService_8:e===I.a?this._ClipartService_9:e===M.a?this._MapViewCtxService_10:e===C.a?this._ZoomService_11:e===_.a?this._GridService_12:e===z.a?this._ResetService_13:e===T.a?this._RendererService_14:e===E.a?this._UploadService_15:t},t.prototype.destroyInternal=function(){},t}(i.B),B=new i.C(H,r.a)},Uq51:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=[".c-cursor-img-tool-cursor{position:absolute;height:100px;width:100px;opacity:.5}.c-cursor-img-tool-picker{position:absolute;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-pack:distribute;justify-content:space-around;-ms-flex-line-pack:start;align-content:flex-start;-ms-flex-wrap:wrap;flex-wrap:wrap;width:350px;padding:5px;bottom:70px;right:0;margin:5px;background-color:hsla(0,0%,100%,.75);border-radius:3px;box-shadow:0 2px 6px 0 rgba(0,0,0,.25);max-height:200px;overflow-y:scroll}.c-cursor-img-tool-picker__icon{cursor:pointer;width:50px;height:50px;padding:5px}.c-cursor-img-tool-picker__icon.is-selected{box-shadow:0 0 5px 1px rgba(78,132,52,.5);border-radius:5px}"]},hUS7:function(e,t,n){"use strict";var i=n("Bdae");n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o});var r=function(){function e(){this.zoomLevel=10}return e}(),o={provide:i.a,useClass:r}},htvO:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=function(){function e(){}return e}()},iJdg:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=function(){function e(){}return e}()},jwoH:function(e,t,n){"use strict";function i(e){return l.E(0,[(e()(),l.F(0,null,null,2,"drafter-toolbar",[["class","c-toolbar-buttons"]],null,null,null,c.a,c.b)),l.G(24576,null,0,a.a,[u.a,s.a,p.a,h.a,g.a,v.a,f.a,d.a],{canvasComponent:[0,"canvasComponent"],cursorImg:[1,"cursorImg"]},null),(e()(),l.H(null,["\n"])),(e()(),l.H(null,["\n\n"])),(e()(),l.F(0,null,null,2,"drafter-canvas",[],null,[["window","resize"]],function(e,t,n){var i=!0;if("window:resize"===t){i=!1!==l.I(e,5).onResize(n)&&i}return i},m.a,m.b)),l.G(2121728,[["drafterCanvas",4]],0,S.a,[u.a,b.a,s.a,h.a,g.a,v.a,d.a],{cursorImg:[0,"cursorImg"]},null),(e()(),l.H(null,["\n"])),(e()(),l.H(null,["\n\n"])),(e()(),l.F(0,null,null,2,"drafter-cursor-img",[],null,null,null,A.a,A.b)),l.G(24576,[["cursorImg",4]],0,x.a,[u.a,b.a,s.a,g.a,v.a,d.a],{canvasComponent:[0,"canvasComponent"]},null),(e()(),l.H(null,["\n"])),(e()(),l.H(null,["\n"]))],function(e,t){e(t,1,0,l.I(t,5),l.I(t,9)),e(t,5,0,l.I(t,9)),e(t,9,0,l.I(t,5))},null)}function r(e){return l.E(0,[(e()(),l.F(0,null,null,1,"app-drafter",[],null,null,null,i,I)),l.G(24576,null,0,y.a,[],null,null)],null,null)}var o=n("3icQ"),l=n("3j3K"),c=n("MLpL"),a=n("Eo3V"),u=n("RNfl"),s=n("7lie"),p=n("w665"),h=n("/VAB"),g=n("1xXy"),v=n("A32U"),f=n("p4vd"),d=n("Bdae"),m=n("k6bE"),S=n("vDYI"),b=n("QaWl"),A=n("CBjP"),x=n("7O0c"),y=n("pm/s");n.d(t,"a",function(){return M});var w=[o.a],I=l.D({encapsulation:0,styles:w,data:{}}),M=l.J("app-drafter",y.a,r,{},{},[])},k6bE:function(e,t,n){"use strict";function i(e){return l.E(0,[l.K(201326592,1,{_canvas:0}),(e()(),l.H(null,["\n"])),(e()(),l.F(0,[[1,0],["canvasRef",1]],null,1,"canvas",[],[[1,"height",0],[1,"width",0]],[[null,"mousedown"],[null,"mouseup"],[null,"mousemove"]],function(e,t,n){var i=!0,r=e.component;if("mousedown"===t){i=!1!==r.onMouseDown(n)&&i}if("mouseup"===t){i=!1!==r.onMouseUp(n)&&i}if("mousemove"===t){i=!1!==r.onMouseMove(n)&&i}return i},null,null)),(e()(),l.H(null,["\n"])),(e()(),l.H(null,["\n"]))],null,function(e,t){var n=t.component;e(t,2,0,n.viewPortHeight+"px",n.viewPortWidth+"px")})}function r(e){return l.E(0,[(e()(),l.F(0,null,null,1,"drafter-canvas",[],null,[["window","resize"]],function(e,t,n){var i=!0;if("window:resize"===t){i=!1!==l.I(e,1).onResize(n)&&i}return i},i,d)),l.G(2121728,null,0,c.a,[a.a,u.a,s.a,p.a,h.a,g.a,v.a],null,null)],null,null)}var o=n("rWYc"),l=n("3j3K"),c=n("vDYI"),a=n("RNfl"),u=n("QaWl"),s=n("7lie"),p=n("/VAB"),h=n("1xXy"),g=n("A32U"),v=n("Bdae");n.d(t,"b",function(){return d}),t.a=i;var f=[o.a],d=l.D({encapsulation:2,styles:f,data:{}});l.J("drafter-canvas",c.a,r,{cursorImg:"cursorImg"},{},[])},"o8N+":function(e,t,n){"use strict";var i=n("QaWl");n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o});var r=function(){function e(){this.mouseClickState="up"}return e}(),o={provide:i.a,useClass:r}},p4vd:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=function(){function e(){}return e}()},"pm/s":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=function(){function e(){}return e}()},qRHj:function(e,t,n){"use strict";var i=n("A32U"),r=n("htvO"),o=n("iJdg"),l=n("7lie"),c=n("/VAB"),a=n("1xXy"),u=n("Bdae");n.d(t,"a",function(){return s}),n.d(t,"b",function(){return p});var s=function(){function e(e,t,n,i,r,o){this.resetService=e,this.backgroundService=t,this.clipartService=n,this.gridService=i,this.mapViewCtxService=r,this.zoomService=o}return e.prototype.render=function(e,t){this.resetService.clear(t,e),this.backgroundService.draw(t,e),this.clipartService.drawAll(e,this.mapViewCtxService.offsetX,this.mapViewCtxService.offsetY,this.zoomService.zoomLevel),this.gridService.draw(e)},e.ctorParameters=function(){return[{type:r.a},{type:o.a},{type:l.a},{type:c.a},{type:a.a},{type:u.a}]},e}(),p={provide:i.a,useClass:s}},rWYc:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=[".c-canvas-tool-cursor{position:absolute;height:100px;width:100px;opacity:.5}"]},u3Wz:function(e,t,n){"use strict";var i=n("htvO");n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o});var r=function(){function e(){}return e.prototype.clear=function(e,t){t.clearRect(0,0,e.width,e.height),t.beginPath()},e}(),o={provide:i.a,useClass:r}},uLYp:function(e,t,n){"use strict";var i=n("7lie");n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o});var r=function(){function e(){this.clipart=["assets/images/clipart/tree-02.png","assets/images/clipart/tree-03.png","assets/images/clipart/tree-05.png","assets/images/clipart/tree-06.png","assets/images/clipart/tree-07.png","assets/images/clipart/tree-02.png","assets/images/clipart/tree-03.png","assets/images/clipart/tree-05.png","assets/images/clipart/tree-06.png","assets/images/clipart/tree-07.png","assets/images/clipart/tree-02.png","assets/images/clipart/tree-03.png","assets/images/clipart/tree-05.png","assets/images/clipart/tree-06.png","assets/images/clipart/tree-07.png","assets/images/clipart/tree-02.png","assets/images/clipart/tree-03.png","assets/images/clipart/tree-05.png","assets/images/clipart/tree-06.png","assets/images/clipart/tree-07.png","assets/images/clipart/tree-02.png","assets/images/clipart/tree-03.png","assets/images/clipart/tree-05.png","assets/images/clipart/tree-06.png","assets/images/clipart/tree-07.png","assets/images/clipart/tree-02.png","assets/images/clipart/tree-03.png","assets/images/clipart/tree-05.png","assets/images/clipart/tree-06.png","assets/images/clipart/tree-07.png","assets/images/clipart/tree-02.png","assets/images/clipart/tree-03.png","assets/images/clipart/tree-05.png","assets/images/clipart/tree-06.png","assets/images/clipart/tree-07.png","assets/images/clipart/tree-02.png","assets/images/clipart/tree-03.png","assets/images/clipart/tree-05.png","assets/images/clipart/tree-06.png","assets/images/clipart/tree-07.png"],this.selectedIndex=0,this._store=[],this.cursorIcon=""}return Object.defineProperty(e.prototype,"toolActive",{get:function(){return""!==this.cursorIcon},enumerable:!0,configurable:!0}),e.prototype.activateTool=function(){this.cursorIcon=this.curSelection},e.prototype.deactivateTool=function(){this.cursorIcon=""},e.prototype.select=function(e){this.selectedIndex=e},Object.defineProperty(e.prototype,"curSelection",{get:function(){return this.clipart[this.selectedIndex]},enumerable:!0,configurable:!0}),e.prototype.drawAll=function(e,t,n,i){for(var r=0;r<this._store.length;r++){var o=this._store[r];this.draw(o,e,t,n,i)}},e.prototype.draw=function(e,t,n,i,r){var o=new Image;o.src=e.src,t.drawImage(o,e.realX+n,e.realY+i,e.realWidth*r,e.realHeight*r)},e.prototype.placeClipart=function(e){this._store.push(e)},e.prototype.onZoom=function(e,t){var n=e/t;this._store.forEach(function(t){t.realX*=n,t.realY*=n,t.zoomLevel=e})},e.prototype.save=function(){var e=[];this.savedMaps()&&(e=JSON.parse(this.savedMaps())),e.push(this._store),localStorage.setItem("vp-battlemaps",JSON.stringify(e))},e.prototype.open=function(e){var t=[];console.log(this.savedMaps()),this.savedMaps()&&(t=JSON.parse(this.savedMaps()),console.log(t,e,t[e]),this._store=t[e])},e.prototype.savedMaps=function(){return localStorage.getItem("vp-battlemaps")},e}(),o={provide:i.a,useClass:r}},vDYI:function(e,t,n){"use strict";var i=n("RNfl"),r=n("QaWl"),o=n("7lie"),l=n("/VAB"),c=n("1xXy"),a=n("A32U"),u=n("Bdae");n.d(t,"a",function(){return s});var s=function(){function e(e,t,n,i,r,o,l){this.activeToolService=e,this.clickStateService=t,this.clipartService=n,this.gridService=i,this.mapViewCtxService=r,this.rendererService=o,this.zoomService=l,this.evNum=0}return e.prototype.ngAfterViewInit=function(){this.ctx.mozImageSmoothingEnabled=!1,this.ctx.imageSmoothingQuality="Medium",this.ctx.webkitImageSmoothingEnabled=!1,this.ctx.msImageSmoothingEnabled=!1,this.ctx.imageSmoothingEnabled=!1,this.rendererService.render(this.ctx,this.canvas)},e.prototype.onResize=function(e){var t=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){t.mapViewCtxService.width=t.canvas.getBoundingClientRect().width,t.mapViewCtxService.height=t.canvas.getBoundingClientRect().height,t.rendererService.render(t.ctx,t.canvas)},20)},Object.defineProperty(e.prototype,"viewPortWidth",{get:function(){return window.innerWidth&&document.documentElement.clientWidth?Math.min(window.innerWidth,document.documentElement.clientWidth):window.innerWidth||document.documentElement.clientWidth||document.getElementsByTagName("body")[0].clientWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"viewPortHeight",{get:function(){return window.innerHeight&&document.documentElement.clientHeight?Math.min(window.innerHeight,document.documentElement.clientHeight):window.innerHeight||document.documentElement.clientHeight||document.getElementsByTagName("body")[0].clientHeight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canvas",{get:function(){return this._canvas.nativeElement},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ctx",{get:function(){return this.canvas.getContext("2d")},enumerable:!0,configurable:!0}),e.prototype.onMouseDown=function(e){this.clickStateService.mouseClickState="down"},e.prototype.onMouseUp=function(e){this.clickStateService.mouseClickState="up",this.gridService.draw(this.ctx)},e.prototype.onMouseMove=function(e){this.evNum+=1,this.evNum%5==0&&"up"!==this.clickStateService.mouseClickState&&"down"===this.clickStateService.mouseClickState&&(this.mapViewCtxService.offsetX+=5*e.movementX,this.mapViewCtxService.offsetY+=5*e.movementY,this.rendererService.render(this.ctx,this.canvas))},e.ctorParameters=function(){return[{type:i.a},{type:r.a},{type:o.a},{type:l.a},{type:c.a},{type:a.a},{type:u.a}]},e}()},w665:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=function(){function e(){}return e}()}});